<html><head><link rel="import" href="../iron-location/iron-location.html"><link rel="import" href="../marked-element/marked-element.html"><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../prism-element/prism-highlighter.html"><link rel="import" href="../prism-element/prism-theme-default.html"><link rel="import" href="iron-doc-behavior.html"><link rel="import" href="iron-doc-class.html"><link rel="import" href="iron-doc-demo.html"><link rel="import" href="iron-doc-element.html"><link rel="import" href="iron-doc-mixin.html"><link rel="import" href="iron-doc-namespace.html"></head><body><dom-module id="iron-doc-viewer"><template><style include="iron-doc-viewer-styles prism-theme-default">iron-doc-demo{height:100%;}</style><iron-location path="{{_urlPath}}" hash="{{_urlHash}}"></iron-location><template is="dom-if" if="[[_equal(_descriptorType,'demos')]]" restamp=""><iron-doc-demo class="active" demo="[[_demo]]" src-prefix="[[demoSrcPrefix]]" title="{{title}}"></iron-doc-demo></template><template is="dom-if" if="[[_equal(_descriptorType,'namespaces')]]" restamp=""><iron-doc-namespace class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-namespace></template><template is="dom-if" if="[[_equal(_descriptorType,'elements')]]" restamp=""><iron-doc-element class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-element></template><template is="dom-if" if="[[_equal(_descriptorType,'mixins')]]" restamp=""><iron-doc-mixin class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-mixin></template><template is="dom-if" if="[[_equal(_descriptorType,'behaviors')]]" restamp=""><iron-doc-behavior class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-behavior></template><template is="dom-if" if="[[_equal(_descriptorType,'classes')]]" restamp=""><iron-doc-class class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-class></template></template><script>(function(){function c(d,g){var h=g.split('.');if(!(2>h.length)){h=h.slice(0,h.length-1);for(var j=d,k=0;k<h.length;k++){if(!j.namespaces)return;var l=j.namespaces.filter(function(o){return o.name===h[k]});if(0===l.length)return;j=l[0]}return j}}Polymer({is:'iron-doc-viewer',properties:{descriptor:{type:Object},baseHref:{type:String,value:'#'},demoSrcPrefix:String,path:{type:String,notify:!0,value:null},rootNamespace:{type:String},title:{type:String,notify:!0},demo:{type:Boolean,computed:'_computeDemo(_demo)',reflectToAttribute:!0,notify:!0},_descriptorType:String,_urlPath:String,_urlHash:String,_currentDescriptor:Object,_fragmentPrefix:String,_scrollTo:String,_demo:Object},observers:['_routingChanged(baseHref, _urlPath, _urlHash)','_dataChanged(descriptor, path, _scrollTo)'],_equal:function(d,g){return d==g},_computeDemo:function(d){return!!d},_routingChanged:function(d,g,h){if(0===d.indexOf('#')){var j=(h||'').split('#');this.path=j[0],this._scrollTo=j[1]||null,this._fragmentPrefix=j[0]+'#'}else this.path=d&&g&&0===g.indexOf(d)?g.substring(d.length):g,this._scrollTo=h},_dataChanged:function(d,g,h){if(!this.descriptor)return void(this._descriptorType=null);if(!g||'/'===g)return void(this.rootNamespace?this.path='/namespaces/'+this.rootNamespace:(this._descriptorType='namespaces',this._currentDescriptor=d));var j,k,l;this.baseHref&&0<=g.indexOf(this.baseHref)&&(g=g.substring(this.baseHref.length));var o=g.split('/');1<o.length&&(j=o[1],k=o[2]),3<o.length&&'demos'===o[3]&&(l=o.slice(4).join('/'));var p=c(this.descriptor,k)||this.descriptor;if(null!=p){if(this._descriptorType=j,'namespaces'===j)this._currentDescriptor=p.namespaces&&p.namespaces.filter(function(v){return v.name===k})[0];else if('elements'===j)this._currentDescriptor=p.elements&&p.elements.filter(function(v){return v.name===k||v.tagname===k})[0];else if('classes'===j)this._currentDescriptor=p.classes&&p.classes.filter(function(v){return(v.name||v.tagname)===k})[0];else if('mixins'===j)this._currentDescriptor=p.mixins&&p.mixins.filter(function(v){return v.name===k})[0];else if('behaviors'===j){var q=((p.metadata||{}).polymer||{}).behaviors;this._currentDescriptor=q&&q.filter(function(v){return v.name===k})[0]}else'functions'===j&&(this._currentDescriptor=p.functions&&p.functions.filter(function(v){return v.name===k})[0]);if(this._demo=null,l&&this._currentDescriptor&&this._currentDescriptor.demos)for(var r=0;r<this._currentDescriptor.demos.length;r++){var s=this._currentDescriptor.demos[r],t=s.description&&s.description.toLowerCase().replace(/\s+/g,'-');if(s.url===l||t&&t===l){this._demo=s,this._descriptorType='demos';break}}if(this.fire('view-changed'),h){Polymer.dom.flush();var u=this.$$('.active');u&&u.scrollToAnchor&&u.scrollToAnchor(h)}}}})})();</script></dom-module></body></html>