!function(b){var c=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/;b.languages.handlebars=b.languages.extend("markup",{handlebars:{pattern:c,inside:{delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b-?(?:0x[\dA-Fa-f]+|\d*\.?\d+(?:[Ee][+-]?\d+)?)\b/,boolean:/\b(?:true|false)\b/,block:{pattern:/^(\s*~?\s*)[#\/]\S+?(?=\s*~?\s*$|\s)/i,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~\s]+/}}}),b.languages.insertBefore("handlebars","tag",{"handlebars-comment":{pattern:/\{\{![\s\S]*?\}\}/,alias:["handlebars","comment"]}}),b.hooks.add("before-highlight",function(d){"handlebars"===d.language&&(d.tokenStack=[],d.backupCode=d.code,d.code=d.code.replace(c,function(f){for(var g=d.tokenStack.length;-1!==d.backupCode.indexOf("___HANDLEBARS"+g+"___");)++g;return d.tokenStack[g]=f,"___HANDLEBARS"+g+"___"}))}),b.hooks.add("before-insert",function(d){"handlebars"===d.language&&(d.code=d.backupCode,delete d.backupCode)}),b.hooks.add("after-highlight",function(d){if("handlebars"===d.language){for(var f=0,g=Object.keys(d.tokenStack);f<g.length;++f){var h=g[f],i=d.tokenStack[h];d.highlightedCode=d.highlightedCode.replace("___HANDLEBARS"+h+"___",b.highlight(i,d.grammar,"handlebars").replace(/\$/g,"$$$$"))}d.element.innerHTML=d.highlightedCode}})}(Prism);