!function(b){var c=/\{\*[\s\S]+?\*\}|\{[\s\S]+?\}/g,g=!1;b.languages.smarty=b.languages.extend("markup",{smarty:{pattern:c,inside:{delimiter:{pattern:/^\{|\}$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b-?(?:0x[\dA-Fa-f]+|\d*\.?\d+(?:[Ee][-+]?\d+)?)\b/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->)(?!\d)\w+/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:[{pattern:/(\|\s*)@?(?!\d)\w+/,lookbehind:!0},/^\/?(?!\d)\w+/,/(?!\d)\w+(?=\()/],"attr-name":{pattern:/\w+\s*=\s*(?:(?!\d)\w+)?/,inside:{variable:{pattern:/(=\s*)(?!\d)\w+/,lookbehind:!0},operator:/=/}},punctuation:[/[\[\]().,:`]|->/],operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:eq|neq?|gt|lt|gt?e|lt?e|not|mod|or|and)\b/],keyword:/\b(?:false|off|on|no|true|yes)\b/}}}),b.languages.insertBefore("smarty","tag",{"smarty-comment":{pattern:/\{\*[\s\S]*?\*\}/,alias:["smarty","comment"]}}),b.hooks.add("before-highlight",function(h){"smarty"===h.language&&(h.tokenStack=[],h.backupCode=h.code,h.code=h.code.replace(c,function(i){if(i==="{/literal}"&&(g=!1),!g){i==="{literal}"&&(g=!0);for(var j=h.tokenStack.length;-1!==h.backupCode.indexOf("___SMARTY"+j+"___");)++j;return h.tokenStack[j]=i,"___SMARTY"+j+"___"}return i}))}),b.hooks.add("before-insert",function(h){"smarty"===h.language&&(h.code=h.backupCode,delete h.backupCode)}),b.hooks.add("after-highlight",function(h){if("smarty"===h.language){for(var i=0,j=Object.keys(h.tokenStack);i<j.length;++i){var k=j[i],l=h.tokenStack[k];h.highlightedCode=h.highlightedCode.replace("___SMARTY"+k+"___",b.highlight(l,h.grammar,"smarty").replace(/\$/g,"$$$$"))}h.element.innerHTML=h.highlightedCode}})}(Prism);