<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>fs-fact demo</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../fs-fact.html">
    <link rel="import" href="../fs-fact-types-menu.html">

    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
      </style>
    </custom-style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <fs-client id="client" app-key="a02j00000099Mc2AAE" redirect-uri="." save-access-token exchange-code redirect-after-sign-in="."></fs-client>
      <fs-signin></fs-signin>
      <h3>Basic fs-fact demo</h3>
      <demo-snippet>
        <template>
          <fs-fact id="basic"></fs-fact>
          <script>
            document.getElementById('basic').fact = {
              type: 'http://gedcomx.org/Birth',
              date: {
                original: 'June 4, 1846'
              },
              place: {
                original: 'Cleveland, Ohio'
              }
            };
          </script>
        </template>
      </demo-snippet>
      <h3>Editable fs-fact</h3>
      <demo-snippet>
        <template>
          <fs-fact id="editable" editable></fs-fact>
          <script>
            const fact = document.getElementById('editable');
            fact.fact = {
              type: 'http://gedcomx.org/Birth',
              date: {
                original: 'June 4, 1846'
              },
              place: {
                original: 'Cleveland, Ohio'
              },
              attribution: {
                contributor: {
                  resource: "https://integration.familysearch.org/platform/users/agents/MMJF-TLW",
                  resourceId: "MMJF-TLW"
                },
                changeMessage: "Because because",
                modified: 1408134300475
              }
            };
            fact.addEventListener('fact-changed', (e) => {
              console.log('fact-changed', e.detail.path, e.detail.value);
            });
          </script>
        </template>
      </demo-snippet>
      <h3>Editable fs-fact; value only</h3>
      <demo-snippet>
        <template>
          <fs-fact id="no-place" editable edit></fs-fact>
          <script>
            const noPlace = document.getElementById('no-place');
            noPlace.fact = {
              type: 'http://gedcomx.org/Nationality',
              value: 'Ukrainian',
              attribution: {
                contributor: {
                  resource: "https://integration.familysearch.org/platform/users/agents/MMJF-TLW",
                  resourceId: "MMJF-TLW"
                },
                changeMessage: "Because because",
                modified: 1408134300475
              }
            };
            noPlace.addEventListener('fact-changed', (e) => {
              console.log('fact-changed', e.detail.path, e.detail.value);
            });
          </script>
        </template>
      </demo-snippet>
      <h3>Editable custom type</h3>
      <demo-snippet>
        <template>
          <fs-fact id="custom" editable edit></fs-fact>
          <script>
            const custom = document.getElementById('custom');
            custom.fact = {
              type: 'data:;Custom event',
              value: 'Promoted',
              date: {
                original: 'June 4, 1846'
              },
              place: {
                original: 'Cleveland, Ohio'
              },
              attribution: {
                contributor: {
                  resource: "https://integration.familysearch.org/platform/users/agents/MMJF-TLW",
                  resourceId: "MMJF-TLW"
                },
                changeMessage: "Because because",
                modified: 1408134300475
              }
            };
            custom.addEventListener('fact-changed', (e) => {
              console.log('fact-changed', e.detail.path, e.detail.value);
            });
          </script>
        </template>
      </demo-snippet>
      <h3>Editable fs-fact save enabled</h3>
      <demo-snippet>
        <template>
          <fs-fact id="saveable" editable save-url="/platform/tree/persons/url"></fs-fact>
          <script>
            const saveable = document.getElementById('saveable');
            saveable.fact = {
              type: 'http://gedcomx.org/Birth',
              date: {
                original: 'June 4, 1846'
              },
              place: {
                original: 'Cleveland, Ohio'
              },
              attribution: {
                contributor: {
                  resource: "https://integration.familysearch.org/platform/users/agents/MMJF-TLW",
                  resourceId: "MMJF-TLW"
                },
                changeMessage: "Because because",
                modified: 1408134300475
              }
            };
            saveable.addEventListener('fact-changed', (e) => {
              console.log('fact-changed', e.detail.path, e.detail.value);
            });
          </script>
        </template>
      </demo-snippet>
      <h3>Fact type menu</h3>
      <demo-snippet>
        <template>
          <fs-fact-types-menu></fs-fact-types-menu>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
